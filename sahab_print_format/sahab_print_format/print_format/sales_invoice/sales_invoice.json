{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-11-19 20:34:05.092671",
 "css": "",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"{# --- \\u062a\\u062d\\u062f\\u064a\\u062f \\u0646\\u0648\\u0639 \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 \\u0628\\u0646\\u0627\\u0621\\u064b \\u0639\\u0644\\u0649 buyer_vat_registration_number --- #}\\n{% set invoice_type = \\\"Simplified\\\" %}\\n{% if doc.custom_zatca_siaf %}\\n    {% set buyer_vat = frappe.db.get_value(\\\"Sales Invoice Additional Fields\\\", doc.custom_zatca_siaf, \\\"buyer_vat_registration_number\\\") %}\\n    {% if buyer_vat %}\\n        {% set invoice_type = \\\"Standard\\\" %}\\n    {% endif %}\\n{% endif %}\\n\\n{# --- \\u062a\\u062d\\u062f\\u064a\\u062f \\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 --- #}\\n{% if invoice_type == \\\"Standard\\\" %}\\n    {% if doc.is_return %}\\n        {% set invoice_title = \\\"\\u0625\\u0634\\u0639\\u0627\\u0631 \\u062f\\u0627\\u0626\\u0646 \\u0636\\u0631\\u064a\\u0628\\u064a \\u0642\\u064a\\u0627\\u0633\\u064a\\\" %}\\n    {% elif doc.is_debit_note %}\\n        {% set invoice_title = \\\"\\u0625\\u0634\\u0639\\u0627\\u0631 \\u0645\\u062f\\u064a\\u0646 \\u0636\\u0631\\u064a\\u0628\\u064a \\u0642\\u064a\\u0627\\u0633\\u064a\\\" %}\\n    {% else %}\\n        {% set invoice_title = \\\"\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 \\u0636\\u0631\\u064a\\u0628\\u064a\\u0629 \\u0642\\u064a\\u0627\\u0633\\u064a\\u0629\\\" %}\\n    {% endif %}\\n{% else %}\\n    {% if doc.is_return %}\\n        {% set invoice_title = \\\"\\u0625\\u0634\\u0639\\u0627\\u0631 \\u062f\\u0627\\u0626\\u0646 \\u0636\\u0631\\u064a\\u0628\\u064a \\u0645\\u0628\\u0633\\u0637\\\" %}\\n    {% elif doc.is_debit_note %}\\n        {% set invoice_title = \\\"\\u0625\\u0634\\u0639\\u0627\\u0631 \\u0645\\u062f\\u064a\\u0646 \\u0636\\u0631\\u064a\\u0628\\u064a \\u0645\\u0628\\u0633\\u0637\\\" %}\\n    {% else %}\\n        {% set invoice_title = \\\"\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 \\u0636\\u0631\\u064a\\u0628\\u064a\\u0629 \\u0645\\u0628\\u0633\\u0637\\u0629\\\" %}\\n    {% endif %}\\n{% endif %}\\n\\n<!-- \\u0647\\u064a\\u062f\\u0631 \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 \\u0645\\u062a\\u0648\\u0627\\u0641\\u0642 \\u0645\\u0639 PDF -->\\n<div style=\\\"text-align: center; margin-bottom: 10px;\\\">\\n    <div style=\\\"font-size: 2.1em; font-weight: bold; margin-top: 18px; color: #222; font-family: Arial, sans-serif;\\\">{{ invoice_title }}</div>\\n    {% set branch_name = frappe.db.get_value(\\\"Cost Center\\\", doc.cost_center, \\\"cost_center_name\\\") if doc.cost_center else \\\"\\\" %}\\n    {% if branch_name %}\\n        <div style=\\\"font-size: 15px; color: #444; margin: 4px 0; font-family: Arial, sans-serif;\\\">\\u0627\\u0644\\u0641\\u0631\\u0639: <span style=\\\"color: #777;\\\">{{ branch_name }}</span></div>\\n    {% endif %}\\n    <table style=\\\"width: 100%; margin-top: 16px; border-collapse: collapse; font-family: Arial, sans-serif; direction: rtl;\\\">\\n        <tr>\\n            <td style=\\\"width: 50%; text-align: center; font-size: 16px; font-weight: bold; border: 1px solid #bbb; padding: 8px;\\\">\\n                \\u062a\\u0627\\u0631\\u064a\\u062e \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629: {{ doc.get_formatted('posting_date') }}\\n            </td>\\n            <td style=\\\"width: 50%; text-align: center; font-size: 16px; font-weight: bold; border: 1px solid #bbb; padding: 8px;\\\">\\n                \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629: {{ doc.name }}\\n            </td>\\n        </tr>\\n    </table>\\n</div>\\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div>\\n  <table style=\\\"width: 100%; border-collapse: collapse; direction: rtl; font-family: Arial, sans-serif; font-size: 14px; border: 1px solid #bbb; border-radius: 6px;\\\">\\n    <thead>\\n      <tr>\\n        <th style=\\\"background-color: #f5f5f5; font-weight: bold; font-size: 15px; padding: 6px 8px; border: 1px solid #bbb; border-top-right-radius: 6px; text-align: center; vertical-align: middle;\\\" colspan=\\\"2\\\">\\u0628\\u064a\\u0627\\u0646\\u0627\\u062a \\u0627\\u0644\\u0628\\u0627\\u0626\\u0639</th>\\n        <th style=\\\"background-color: #f5f5f5; font-weight: bold; font-size: 15px; padding: 6px 8px; border: 1px solid #bbb; border-top-left-radius: 6px; text-align: center; vertical-align: middle;\\\" colspan=\\\"2\\\">\\u0628\\u064a\\u0627\\u0646\\u0627\\u062a \\u0627\\u0644\\u0645\\u0634\\u062a\\u0631\\u064a</th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      {% set company_name = doc.company %}\\n      {% set company_data = frappe.get_doc(\\\"Company\\\", company_name) %}\\n      {% set company_ar_name = company_data.custom_company_arabic_name if company_data else \\\"\\\" %}\\n      {% set company_cr_no = company_data.custom_commercial_registration_number if company_data else \\\"\\\" %}\\n      {% set address_name_seller = frappe.db.get_value(\\\"Dynamic Link\\\", {\\\"link_doctype\\\": \\\"Company\\\", \\\"link_name\\\": company_name}, \\\"parent\\\") %}\\n      {% set address_line1_s, city_s, pincode_s = frappe.db.get_value(\\\"Address\\\", address_name_seller, [\\\"address_line1\\\", \\\"city\\\", \\\"pincode\\\"]) if address_name_seller else (\\\"\\\", \\\"\\\", \\\"\\\") %}\\n\\n      {% set address_name_buyer = frappe.db.get_value(\\\"Dynamic Link\\\", {\\\"link_doctype\\\": \\\"Customer\\\", \\\"link_name\\\": doc.customer}, \\\"parent\\\") %}\\n      {% set address_line1_b, city_b, pincode_b = frappe.db.get_value(\\\"Address\\\", address_name_buyer, [\\\"address_line1\\\", \\\"city\\\", \\\"pincode\\\"]) if address_name_buyer else (\\\"\\\", \\\"\\\", \\\"\\\") %}\\n      {% set vat_no_buyer = frappe.db.get_value('Customer', doc.customer, 'custom_vat_registration_number') %}\\n      {% set cr_no_buyer = frappe.db.get_value(\\\"Additional Buyer IDs\\\", {\\\"parent\\\": doc.customer, \\\"type_name\\\": \\\"Commercial Registration Number\\\"}, \\\"value\\\") %}\\n\\n      <tr>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">{{ company_ar_name or \\\"\\\" }}</td>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">{{ doc.customer_name }}</td>\\n      </tr>\\n\\n      <tr>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\n          {{ address_line1_s }}{% if city_s %}, {{ city_s }}{% endif %}{% if pincode_s %}, {{ pincode_s }}{% endif %}\\n        </td>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\n          {{ address_line1_b }}{% if city_b %}, {{ city_b }}{% endif %}{% if pincode_b %}, {{ pincode_b }}{% endif %}\\n        </td>\\n      </tr>\\n\\n      <tr>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u064a</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">{{ doc.company_tax_id or \\\"\\\" }}</td>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u064a</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">{{ vat_no_buyer or \\\"\\\" }}</td>\\n      </tr>\\n\\n      <tr>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle; border-bottom-right-radius: 6px;\\\">\\u0627\\u0644\\u0633\\u062c\\u0644 \\u0627\\u0644\\u062a\\u062c\\u0627\\u0631\\u064a</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">{{ company_cr_no or \\\"\\\" }}</td>\\n        <td style=\\\"width: 15%; background-color: #fff; font-weight: bold; font-size: 14px; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle;\\\">\\u0627\\u0644\\u0633\\u062c\\u0644 \\u0627\\u0644\\u062a\\u062c\\u0627\\u0631\\u064a</td>\\n        <td style=\\\"width: 35%; background-color: #fff; border: 1px solid #bbb; padding: 5px 7px; text-align: center; vertical-align: middle; border-bottom-left-radius: 6px;\\\">{{ cr_no_buyer or \\\"\\\" }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n\\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% if doc.items %}\\n<div style=\\\"margin: 5px 0; padding: 5px; background-color: #fafafa; border: 1px solid #bbb; border-radius: 6px;\\\">\\n    <table style=\\\"width: 100%; border-collapse: collapse; direction: rtl; font-family: Arial, sans-serif; font-size: 13px;\\\">\\n        <thead>\\n            <tr style=\\\"background-color: #f5f5f5; color: #222; font-weight: bold;\\\">\\n                <th style=\\\"width: 25px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0645</th>\\n                <th style=\\\"width: 300px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0627\\u0644\\u0635\\u0646\\u0641</th>\\n                <th style=\\\"width: 80px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0627\\u0644\\u0643\\u0645\\u064a\\u0629</th>\\n                <th style=\\\"width: 80px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0627\\u0644\\u0648\\u062d\\u062f\\u0629</th>\\n                <th style=\\\"width: 80px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0627\\u0644\\u0633\\u0639\\u0631</th>\\n                <th style=\\\"width: 80px; text-align: center; padding: 5px; vertical-align: middle; border: 1px solid #bbb;\\\">\\u0627\\u0644\\u0645\\u0628\\u0644\\u063a</th>\\n            </tr>\\n        </thead>\\n        <tbody>\\n            {%- for row in doc.items -%}\\n            <tr style=\\\"font-size: 13px; text-align: center; border: 1px solid #bbb;\\\">\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ row.idx }}</td>\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ row.description }}</td>\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ row.qty }}</td>\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ row.uom }}</td>\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ \\\"%.2f\\\"|format(row.rate|float) }}</td>\\n                <td style=\\\"border: 1px solid #bbb; padding: 4px;\\\">{{ \\\"%.2f\\\"|format(row.amount|float) }}</td>\\n            </tr>\\n            {%- endfor -%}\\n        </tbody>\\n    </table>\\n</div>\\n{% endif %}\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"display: inline-block; margin: 5px 0; padding: 5px; background-color: #fafafa; border: 1px solid #bbb; border-radius: 6px;\\\">\\n    <div style=\\\"text-align: center; font-size: 14px; font-weight: bold; padding: 2px; margin-bottom: 2px; background-color: #f5f5f5; border-radius: 4px; font-family: Arial, sans-serif;\\\">\\n        \\u062a\\u0641\\u0627\\u0635\\u064a\\u0644 \\u0627\\u0644\\u0625\\u062c\\u0645\\u0627\\u0644\\u064a\\n    </div>\\n\\n    <table style=\\\"border-collapse: collapse; direction: rtl; font-family: Arial, sans-serif; font-size: 13px;\\\">\\n        <tbody>\\n\\n            <!-- net_total -->\\n            {% if doc.net_total %}\\n            <tr>\\n                <th style=\\\"text-align: right; padding: 4px; border: 1px solid #bbb; background-color: #f5f5f5; font-weight: bold; white-space: nowrap;\\\">\\u0627\\u0644\\u0625\\u062c\\u0645\\u0627\\u0644\\u064a \\u0627\\u0644\\u0635\\u0627\\u0641\\u064a \\u0627\\u0644\\u062e\\u0627\\u0636\\u0639 \\u0644\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629</th>\\n                <td style=\\\"text-align: center; padding: 4px; border: 1px solid #bbb; font-weight: bold; color: #0A9928; white-space: nowrap;\\\">{{ \\\"{:.2f}\\\".format(doc.net_total | abs) }} \\u0631\\u064a\\u0627\\u0644</td>\\n            </tr>\\n            {% endif %}\\n\\n            <!-- total_taxes_and_charges -->\\n            {% if doc.total_taxes_and_charges %}\\n            <tr>\\n                <th style=\\\"text-align: right; padding: 4px; border: 1px solid #bbb; background-color: #f5f5f5; font-weight: bold; white-space: nowrap;\\\">\\u0625\\u062c\\u0645\\u0627\\u0644\\u064a \\u0636\\u0631\\u064a\\u0628\\u0629 \\u0627\\u0644\\u0642\\u064a\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0636\\u0627\\u0641\\u0629 15%</th>\\n                <td style=\\\"text-align: center; padding: 4px; border: 1px solid #bbb; font-weight: bold; color: #0A9928; white-space: nowrap;\\\">{{ \\\"{:.2f}\\\".format(doc.total_taxes_and_charges | abs) }} \\u0631\\u064a\\u0627\\u0644</td>\\n            </tr>\\n            {% endif %}\\n\\n            <!-- discount_amount -->\\n            {% if doc.discount_amount %}\\n            <tr style=\\\"font-size: 12px; text-align: center;\\\">\\n                <th colspan=\\\"2\\\" style=\\\"font-weight: 600; border: 1px solid #bbb; white-space: nowrap;\\\">\\u0627\\u0644\\u062e\\u0635\\u0645</th>\\n                <td style=\\\"font-weight: 600;border: 1px solid #bbb;text-align: center; white-space: nowrap;\\\">{{ \\\"{:.2f}\\\".format(doc.discount_amount) }} \\u0631\\u064a\\u0627\\u0644</td>\\n            </tr>\\n            {% endif %}\\n\\n            <!-- grand_total -->\\n            {% if doc.grand_total %}\\n            <tr>\\n                <th style=\\\"text-align: right; padding: 5px; border: 1px solid #bbb; background-color: #f5f5f5; font-weight: bold; font-size: 1.1em; white-space: nowrap;\\\">\\u0627\\u0644\\u0625\\u062c\\u0645\\u0627\\u0644\\u064a \\u0645\\u0639 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629 (\\u0627\\u0644\\u0645\\u0633\\u062a\\u062d\\u0642)</th>\\n                <td style=\\\"text-align: center; padding: 5px; border: 1px solid #bbb; font-weight: bold; color: #0A9928; white-space: nowrap;\\\">{{ \\\"{:.2f}\\\".format(doc.grand_total | abs) }} \\u0631\\u064a\\u0627\\u0644</td>\\n            </tr>\\n            {% endif %}\\n\\n        </tbody>\\n    </table>\\n</div>\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"margin: 2px 0; width: 180px; height: 180px; float: right;\\\">\\n    {% if doc.custom_qr_image_src %}\\n        <img src=\\\"{{ doc.custom_qr_image_src }}\\\" style=\\\"max-width: 100%; max-height: 100%;\\\">\\n    {% else %}\\n        <p style=\\\"color: red; font-weight: bold; text-align: center; padding: 5px; margin: 0;\\\">\\n            \\u0627\\u0644\\u0631\\u0645\\u0632 \\u0644\\u0645 \\u064a\\u062a\\u0645 \\u0625\\u0646\\u0634\\u0627\\u0621\\u0647\\n        </p>\\n    {% endif %}\\n</div>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.status %}\\n\\n    <!-- \\ud83c\\udff7\\ufe0f \\u0642\\u0633\\u0645 \\u062a\\u0631\\u062c\\u0645\\u0629 \\u0627\\u0644\\u062d\\u0627\\u0644\\u0627\\u062a -->\\n    {% set status_translation = {\\n        \\\"Draft\\\": \\\"\\u0645\\u0633\\u0648\\u062f\\u0629\\\",\\n        \\\"Return\\\": \\\"\\u0645\\u0631\\u062a\\u062c\\u0639\\\",\\n        \\\"Credit Note Issued\\\": \\\"\\u062a\\u0645 \\u0625\\u0635\\u062f\\u0627\\u0631 \\u0625\\u0634\\u0639\\u0627\\u0631 \\u062f\\u0627\\u0626\\u0646\\\",\\n        \\\"Submitted\\\": \\\"\\u062a\\u0645 \\u0627\\u0644\\u0625\\u0631\\u0633\\u0627\\u0644\\\",\\n        \\\"Paid\\\": \\\"\\u0645\\u062f\\u0641\\u0648\\u0639\\\",\\n        \\\"Partly Paid\\\": \\\"\\u0645\\u062f\\u0641\\u0648\\u0639 \\u062c\\u0632\\u0626\\u064a\\u0627\\u064b\\\",\\n        \\\"Unpaid\\\": \\\"\\u063a\\u064a\\u0631 \\u0645\\u062f\\u0641\\u0648\\u0639\\\",\\n        \\\"Unpaid and Discounted\\\": \\\"\\u063a\\u064a\\u0631 \\u0645\\u062f\\u0641\\u0648\\u0639 \\u0645\\u0639 \\u062e\\u0635\\u0645\\\",\\n        \\\"Partly Paid and Discounted\\\": \\\"\\u0645\\u062f\\u0641\\u0648\\u0639 \\u062c\\u0632\\u0626\\u064a\\u0627\\u064b \\u0645\\u0639 \\u062e\\u0635\\u0645\\\",\\n        \\\"Overdue and Discounted\\\": \\\"\\u0645\\u062a\\u0623\\u062e\\u0631 \\u0645\\u0639 \\u062e\\u0635\\u0645\\\",\\n        \\\"Overdue\\\": \\\"\\u0645\\u062a\\u0623\\u062e\\u0631\\\",\\n        \\\"Cancelled\\\": \\\"\\u0645\\u0644\\u063a\\u064a\\\",\\n        \\\"Internal Transfer\\\": \\\"\\u062a\\u062d\\u0648\\u064a\\u0644 \\u062f\\u0627\\u062e\\u0644\\u064a\\\"\\n    } %}\\n\\n    <!-- \\ud83d\\udd8d\\ufe0f \\u062a\\u062e\\u0635\\u064a\\u0635 \\u0627\\u0644\\u062a\\u0635\\u0645\\u064a\\u0645 \\u0628\\u0646\\u0627\\u0621\\u064b \\u0639\\u0644\\u0649 \\u0627\\u0644\\u062d\\u0627\\u0644\\u0629 -->\\n\\n    {% set translated_status = status_translation.get(doc.status, doc.status) %}\\n\\n    <!-- \\ud83c\\udff7\\ufe0f \\u0639\\u0631\\u0636 \\u0627\\u0644\\u062e\\u062a\\u0645 \\u0628\\u0645\\u062d\\u0627\\u0630\\u0627\\u0629 \\u0645\\u0646\\u062a\\u0635\\u0641 \\u0623\\u0633\\u0641\\u0644 \\u0642\\u0633\\u0645 \\u0627\\u0644\\u0625\\u062c\\u0645\\u0627\\u0644\\u064a\\u0627\\u062a \\u0645\\u0639 \\u062f\\u0645\\u062c style \\u0645\\u0628\\u0627\\u0634\\u0631\\u0629 -->\\n    <div style=\\\"width: 100%; text-align: center; margin: 10px 0 0 0;\\\">\\n        {% if doc.status == \\\"Paid\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#e6f7ea; color:#0A9928; border:1.2px solid #0A9928;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Partly Paid\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fffbe6; color:#FFC107; border:1.2px solid #FFC107;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Unpaid\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fdeaea; color:#D23; border:1.2px solid #D23;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Overdue\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fdeaea; color:#D23; border:1.2px solid #D23;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Cancelled\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#6C757D; border:1.2px solid #6C757D;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Submitted\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#eaf1fb; color:#007BFF; border:1.2px solid #007BFF;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% elif doc.status == \\\"Draft\\\" %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#C4C4C4; border:1.2px solid #C4C4C4;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% else %}\\n        <span style=\\\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#222; border:1.2px solid #bbb;\\\">\\n            {{ translated_status }}\\n        </span>\\n        {% endif %}\\n    </div>\\n\\n{% endif %}\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.owner %}\\n\\n    <!-- \\ud83c\\udff7\\ufe0f \\u0627\\u0633\\u062a\\u062e\\u0631\\u0627\\u062c \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0633\\u062a\\u062e\\u062f\\u0645 -->\\n    {% set created_by = frappe.db.get_value(\\\"User\\\", doc.owner, \\\"full_name\\\") or doc.owner %}\\n\\n    <!-- \\ud83c\\udff7\\ufe0f \\u0639\\u0631\\u0636 \\u062e\\u062a\\u0645 \\u0635\\u063a\\u064a\\u0631 \\u0644\\u0644\\u0645\\u0633\\u062a\\u062e\\u062f\\u0645 -->\\n    <div style=\\\"width: 100%; text-align: right; margin-top: 8px; padding-right: 32px;\\\">\\n        <span style=\\\"font-size: 12px; font-weight: bold; border: 1.2px solid #1976d2; padding: 3px 10px; border-radius: 7px; font-family: 'Arial', sans-serif; background: #e3f0fb; color: #1976d2; display: inline-block; line-height: 1.3; text-align: center; letter-spacing: 0.5px;\\\">\\n            \\u062a\\u0645 \\u0627\\u0644\\u0625\\u0646\\u0634\\u0627\\u0621<br>{{ created_by }}\\n        </span>\\n    </div>\\n\\n{% endif %}\\n\"}]",
 "html": "<!-- PDF Margins - Meta Tags for wkhtmltopdf -->\r\n<meta name=\"margin-top\" content=\"5mm\">\r\n<meta name=\"margin-bottom\" content=\"5mm\">\r\n<meta name=\"margin-left\" content=\"5mm\">\r\n<meta name=\"margin-right\" content=\"5mm\">\r\n\r\n<!-- Letterhead -->\r\n<div style=\"width:100%; text-align:center; margin-bottom:10px;\">\r\n  <img src=\"https://sahab.goldledgers.com/files/letter_head.png\" alt=\"Letterhead\" style=\"max-width:100%; height:auto; display:block; margin:0 auto;\">\r\n</div>\r\n\r\n<!-- Heading -->\r\n<div style=\"height:5px;\"></div>\r\n\r\n<div style=\"width:100%;max-width:100%;margin:0;padding:0;background:#fff;font-family:'Cairo',Tahoma,Arial,sans-serif;box-sizing:border-box;box-shadow:0 1px 3px rgba(255,182,49,0.09);direction:rtl;overflow:hidden;\">\r\n  <div style=\"display:flex;justify-content:center;align-items:center;padding:4px 10px;line-height:1;text-align:center;white-space:nowrap;font-weight:bold;color:#e74c3c;font-size:1.4em;letter-spacing:.5px;\">\r\n    {% set invoice_type = \"Simplified\" %}\r\n    {% if doc.custom_zatca_siaf %}\r\n        {% set buyer_vat = frappe.db.get_value(\"Sales Invoice Additional Fields\", doc.custom_zatca_siaf, \"buyer_vat_registration_number\") %}\r\n        {% if buyer_vat %}\r\n            {% set invoice_type = \"Standard\" %}\r\n        {% endif %}\r\n    {% endif %}\r\n    {% if invoice_type == \"Standard\" %}\r\n        {% if doc.is_return %}\u0625\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 \u0636\u0631\u064a\u0628\u064a \u0642\u064a\u0627\u0633\u064a{% elif doc.is_debit_note %}\u0625\u0634\u0639\u0627\u0631 \u0645\u062f\u064a\u0646 \u0636\u0631\u064a\u0628\u064a \u0642\u064a\u0627\u0633\u064a{% else %}\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 \u0642\u064a\u0627\u0633\u064a\u0629{% endif %}\r\n    {% else %}\r\n        {% if doc.is_return %}\u0625\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646 \u0636\u0631\u064a\u0628\u064a \u0645\u0628\u0633\u0637{% elif doc.is_debit_note %}\u0625\u0634\u0639\u0627\u0631 \u0645\u062f\u064a\u0646 \u0636\u0631\u064a\u0628\u064a \u0645\u0628\u0633\u0637{% else %}\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u064a\u0629 \u0645\u0628\u0633\u0637\u0629{% endif %}\r\n    {% endif %}\r\n  </div>\r\n</div>\r\n\r\n<!-- Customer Info -->\r\n<div style=\"border:1.5pt solid #000; border-radius:8pt; background:#fff; width:100%; margin:0 0 2pt 0; padding:0; font-family:'Cairo',Tahoma,Arial,sans-serif; direction:rtl; box-sizing:border-box;\">\r\n  <table style=\"width:100%; border-collapse:collapse; margin:0; padding:0; line-height:1.1; font-family:'Cairo',Tahoma,Arial,sans-serif; table-layout:fixed;\">\r\n    <tbody>\r\n      {% set customer_doc = frappe.get_doc(\"Customer\", doc.customer) %}\r\n\r\n      <tr style=\"font-size:10pt; line-height:1.1; white-space:nowrap;\">\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064a\u0644</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">{{ doc.customer_name or \"\" }}</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%;\">{{ doc.name }}</td>\r\n      </tr>\r\n      \r\n      {% set address_name = frappe.db.get_value(\"Dynamic Link\", {\"link_doctype\": \"Customer\", \"link_name\": doc.customer}, \"parent\") %}\r\n      {% set address_line1 = \"\" %}{% set city = \"\" %}{% set pincode = \"\" %}\r\n      {% if address_name %}\r\n        {% set address_values = frappe.db.get_value(\"Address\", address_name, [\"address_line1\",\"city\",\"pincode\"]) %}\r\n        {% if address_values %}\r\n          {% set address_line1 = address_values[0] %}{% set city = address_values[1] %}{% set pincode = address_values[2] %}\r\n        {% endif %}\r\n      {% endif %}\r\n      <tr style=\"font-size:10pt; line-height:1.1; white-space:nowrap;\">\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u0627\u0644\u0639\u0646\u0648\u0627\u0646</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">{% if address_line1 or city or pincode %}{{ address_line1 or '' }}{% if city %}, {{ city }}{% endif %}{% if pincode %}, {{ pincode }}{% endif %}{% endif %}</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%;\">\r\n          {% set days_ar = ['\u0627\u0644\u0627\u062b\u0646\u064a\u0646','\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621','\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621','\u0627\u0644\u062e\u0645\u064a\u0633','\u0627\u0644\u062c\u0645\u0639\u0629','\u0627\u0644\u0633\u0628\u062a','\u0627\u0644\u0623\u062d\u062f'] %}\r\n          {% set dt = frappe.utils.get_datetime(doc.posting_date ~ ' ' ~ doc.posting_time) %}\r\n          {% set weekday = dt.weekday() %}\r\n          {% set hour = dt.hour %}\r\n          {% set minute = dt.minute %}\r\n          {% set hour12 = hour if 1 <= hour <= 12 else (hour - 12 if hour > 12 else 12) %}\r\n          {% set am_pm_ar = '\u0635' if hour < 12 else '\u0645' %}\r\n          {{ days_ar[weekday] }} {{ \"%02d\"|format(dt.day) }}-{{ \"%02d\"|format(dt.month) }}-{{ dt.year }} {{ hour12 }}:{{ \"%02d\"|format(minute) }} {{ am_pm_ar }}\r\n        </td>\r\n      </tr>\r\n\r\n      {% if customer_doc.custom_vat_registration_number %}\r\n      <tr style=\"font-size:10pt; line-height:1.1; white-space:nowrap;\">\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">{{ customer_doc.custom_vat_registration_number }}</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u0648\u0642\u062a \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%;\">\r\n          {% set hour = dt.hour %}\r\n          {% set minute = dt.minute %}\r\n          {% set hour12 = hour if 1 <= hour <= 12 else (hour - 12 if hour > 12 else 12) %}\r\n          {% set am_pm_ar = '\u0635' if hour < 12 else '\u0645' %}\r\n          {{ hour12 }}:{{ \"%02d\"|format(minute) }} {{ am_pm_ar }}\r\n        </td>\r\n      </tr>\r\n      {% endif %}\r\n      \r\n      {% set type_ar = {\r\n        \"Tax Identification Number\": [\"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064a\u0628\u064a\"],\r\n        \"Commercial Registration Number\": [\"\u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\"],\r\n        \"MOMRAH License\": [\"\u0631\u062e\u0635\u0629 \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0634\u0624\u0648\u0646 \u0627\u0644\u0628\u0644\u062f\u064a\u0629 \u0648\u0627\u0644\u0642\u0631\u0648\u064a\u0629 \u0648\u0627\u0644\u0625\u0633\u0643\u0627\u0646\"],\r\n        \"MHRSD License\": [\"\u0631\u062e\u0635\u0629 \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u0631\u062f \u0627\u0644\u0628\u0634\u0631\u064a\u0629 \u0648\u0627\u0644\u062a\u0646\u0645\u064a\u0629 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a\u0629\"],\r\n        \"700 Number\": [\"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u0648\u062d\u062f\"],\r\n        \"MISA License\": [\"\u0631\u062e\u0635\u0629 \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0627\u0633\u062a\u062b\u0645\u0627\u0631\"],\r\n        \"National ID\": [\"\u0627\u0644\u0647\u0648\u064a\u0629 \u0627\u0644\u0648\u0637\u0646\u064a\u0629\"],\r\n        \"GCC ID\": [\"\u0647\u0648\u064a\u0629 \u0645\u062c\u0644\u0633 \u0627\u0644\u062a\u0639\u0627\u0648\u0646\"],\r\n        \"Iqama\": [\"\u0631\u0642\u0645 \u0627\u0644\u0625\u0642\u0627\u0645\u0629\"],\r\n        \"Passport ID\": [\"\u0631\u0642\u0645 \u062c\u0648\u0627\u0632 \u0627\u0644\u0633\u0641\u0631\"],\r\n        \"Other OD\": [\"\u0623\u062e\u0631\u0649\"]\r\n      } %}\r\n      {% for row in customer_doc.custom_additional_ids %}\r\n        {% if row.value %}\r\n        <tr style=\"font-size:10pt; line-height:1.1;\">\r\n          <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">{{ type_ar.get(row.type_name, [row.type_name])[0] }}</td>\r\n          <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">{{ row.value }}</td>\r\n          {% if loop.index == 2 %}\r\n            <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642</td>\r\n            <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">\r\n              {% if doc.due_date %}\r\n                {% set due_dt = frappe.utils.get_datetime(doc.due_date) %}\r\n                {% set due_weekday = due_dt.weekday() %}\r\n                {{ days_ar[due_weekday] }} {{ \"%02d\"|format(due_dt.day) }}-{{ \"%02d\"|format(due_dt.month) }}-{{ due_dt.year }}\r\n              {% endif %}\r\n            </td>\r\n          {% else %}\r\n            <td style=\"border:none; width:15%;\"></td><td style=\"border:none; width:35%;\"></td>\r\n          {% endif %}\r\n        </tr>\r\n        {% endif %}\r\n      {% endfor %}\r\n\r\n      {% if not customer_doc.custom_additional_ids or customer_doc.custom_additional_ids|length == 0 %}\r\n      <tr style=\"font-size:10pt; line-height:1.1;\">\r\n        <td style=\"border:none; width:15%;\"></td><td style=\"border:none; width:35%;\"></td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; font-weight:bold; width:15%;\">\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0633\u062a\u062d\u0642\u0627\u0642</td>\r\n        <td style=\"border:none; padding:1pt; color:#111; text-align:right; width:35%; overflow:hidden; text-overflow:ellipsis;\">\r\n          {% if doc.due_date %}\r\n            {% set due_dt = frappe.utils.get_datetime(doc.due_date) %}\r\n            {% set due_weekday = due_dt.weekday() %}\r\n            {{ days_ar[due_weekday] }} {{ \"%02d\"|format(due_dt.day) }}-{{ \"%02d\"|format(due_dt.month) }}-{{ due_dt.year }}\r\n          {% endif %}\r\n        </td>\r\n      </tr>\r\n      {% endif %}\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- Items Table -->\r\n<div style=\"border: 2px solid #000; border-radius: 8px; overflow: hidden; direction: rtl; font-family: 'Cairo', Tahoma, Arial, sans-serif;\">\r\n  <table style=\"width: 100%; border-collapse: collapse; font-size: 14px;\">\r\n    <thead>\r\n      <tr style=\"border-bottom: 2px solid #666;\">\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; width: 30px;\">\u0645</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; border-left: 1px solid #ccc; width: 80px;\">\u0627\u0644\u0643\u0648\u062f</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: right; border-left: 1px solid #ccc;\">\u0627\u0644\u0635\u0646\u0641</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; border-left: 1px solid #ccc; width: 60px;\">\u0627\u0644\u0648\u062d\u062f\u0629</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; border-left: 1px solid #ccc; width: 70px;\">\u0627\u0644\u0643\u0645\u064a\u0629</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; border-left: 1px solid #ccc; width: 80px;\">\u0627\u0644\u0633\u0639\u0631</th>\r\n        <th style=\"background: #eee; padding: 10px 6px; font-weight: bold; text-align: center; border-left: 1px solid #ccc; width: 100px;\">\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {% for row in doc.items %}\r\n        <tr style=\"{% if loop.index % 2 == 0 %}background: #f9f9f9;{% endif %}{% if not loop.last %}border-bottom: 1px dotted #aaa;{% endif %}\">\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; width: 30px;\">{{ loop.index }}</td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; width: 80px;\">{{ row.item_code }}</td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: right;\">{{ row.description }}</td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; width: 60px;\">{{ row.uom }}</td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; width: 70px;\">{{ \"{:,.2f}\".format(row.qty or 0) }}</td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; direction: ltr; width: 80px;\">\r\n            <span style=\"font-weight:normal;\">\u00a7 </span>{{ \"{:,.2f}\".format(row.net_rate or 0) }}\r\n          </td>\r\n          <td style=\"padding: 7px 5px; font-size: 0.9em; vertical-align: middle; text-align: center; direction: ltr; width: 100px;\">\r\n            <span style=\"font-weight:normal;\">\u00a7 </span>{{ \"{:,.2f}\".format(row.net_amount or 0) }}\r\n          </td>\r\n        </tr>\r\n      {% endfor %}\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- Totals and QR Code (Two Columns) - Fixed LTR Layout -->\r\n<div dir=\"ltr\" style=\"direction: ltr; unicode-bidi: embed; width: 100%; margin-top: 10px; margin-bottom: 10px;\">\r\n  <table style=\"width:100%; border-collapse:collapse; direction: ltr;\">\r\n    <tr>\r\n      <!-- Totals Column - Always Left -->\r\n      <td style=\"width:300px; vertical-align:top; padding-right:10px; direction: rtl; text-align: right;\">\r\n        <div style=\"margin:3px 0 0 0; border:1px solid #000; border-radius:8px; overflow:hidden; background:transparent; direction:rtl; font-family:'Arial',sans-serif; page-break-inside:avoid; unicode-bidi: embed; display: block;\">\r\n      <table style=\"width:100%; border-collapse:collapse; font-size:13px; margin:0; padding:0;\">\r\n        <tbody>\r\n          <tr>\r\n            <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:1px solid #ddd; font-weight:normal; text-align:right;\">\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u063a\u064a\u0631 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629</th>\r\n            <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:1px solid #ddd; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums;\">\r\n              {{ doc.get_formatted(\"net_total\") }}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:1px solid #ddd; font-weight:normal; text-align:right;\">\u0645\u062c\u0645\u0648\u0639 \u0642\u064a\u0645\u0629 \u0627\u0644\u0636\u0631\u064a\u0628\u0629</th>\r\n            <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:1px solid #ddd; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums;\">\r\n              {{ doc.get_formatted(\"total_taxes_and_charges\") }}\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:1px solid #ddd; font-weight:normal; text-align:right;\">\u0627\u0644\u0625\u062c\u0645\u0627\u0644\u064a \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064a\u0628\u0629</th>\r\n            <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:1px solid #ddd; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums;\">\r\n              {{ doc.get_formatted(\"grand_total\") }}\r\n            </td>\r\n          </tr>\r\n\r\n          {% set payment_entries = frappe.get_all(\"Payment Entry Reference\", filters={\"reference_doctype\": \"Sales Invoice\", \"reference_name\": doc.name}, fields=[\"parent\", \"allocated_amount\"]) %}\r\n          {% set submitted_payments = [] %}\r\n          {% for ref in payment_entries %}\r\n            {% set pe_docstatus = frappe.db.get_value(\"Payment Entry\", ref.parent, \"docstatus\") %}\r\n            {% if pe_docstatus == 1 %}\r\n              {% set pe_paid_to = frappe.db.get_value(\"Payment Entry\", ref.parent, \"paid_to\") %}\r\n              {% set _ = submitted_payments.append({\"name\": ref.parent, \"paid_to\": pe_paid_to, \"paid_amount\": ref.allocated_amount}) %}\r\n            {% endif %}\r\n          {% endfor %}\r\n          {% if submitted_payments %}\r\n            {% for entry in submitted_payments %}\r\n            <tr>\r\n              <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:1px solid #ddd; font-weight:normal; text-align:right;\">\r\n                \u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062d\u0635\u0644\r\n                <span style=\"display:inline-block; font-size:0.7em; font-weight:normal; color:#555; margin:0; margin-right:4px; white-space:nowrap;\">( \u0625\u0630\u0646 \u0625\u0633\u062a\u0644\u0627\u0645 {{ entry.name }} )</span>\r\n              </th>\r\n              <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:1px solid #ddd; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums;\">\r\n                {{ frappe.utils.fmt_money(entry.paid_amount, currency=doc.currency) }}\r\n              </td>\r\n            </tr>\r\n            {% endfor %}\r\n            <tr>\r\n              <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:1px solid #ddd; font-weight:normal; text-align:right; border-top:1px solid #bbb;\">\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0645\u0628\u0627\u0644\u063a \u0627\u0644\u0645\u062d\u0635\u0644\u0629</th>\r\n              <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:1px solid #ddd; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums; border-top:1px solid #bbb;\">\r\n                 {{ frappe.utils.fmt_money(submitted_payments | map(attribute='paid_amount') | sum, currency=doc.currency) }}\r\n              </td>\r\n            </tr>\r\n          {% endif %}\r\n\r\n          <tr>\r\n            <th style=\"margin:0; padding:3px 5px; line-height:1; vertical-align:middle; border-bottom:2px solid #000; font-weight:normal; text-align:right;\">\u0627\u0644\u0645\u0628\u0644\u063a \u0627\u0644\u0645\u062a\u0628\u0642\u064a</th>\r\n            <td style=\"margin:0; padding:3px 5px; line-height:1; border-bottom:2px solid #000; text-align:left; font-weight:normal; direction:ltr; white-space:nowrap; font-variant-numeric:tabular-nums;\">\r\n              {{ doc.get_formatted(\"outstanding_amount\") }}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr>\r\n            <td colspan=\"2\" style=\"margin:0; padding:0 8px; font-size:0.7em; line-height:1; font-weight:normal; text-align:center; color:#222; border:none;\">\r\n              {{ doc.custom_tafqeet_amount }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n      </td>\r\n      \r\n      <!-- QR Code Column - Always Right -->\r\n      <td style=\"width:200px; vertical-align:top; padding-left:10px; direction: ltr; text-align: right;\">\r\n        <div style=\"margin: 2px 0 60px 0; text-align: right; direction: ltr; unicode-bidi: embed; display: block;\">\r\n          {% if doc.custom_qr_image_src %}\r\n            <img src=\"{{ doc.custom_qr_image_src | safe }}\" alt=\"QR Code\" style=\"width: 180px; height: 180px; object-fit: contain; display: block; margin-left: auto;\">\r\n          {% endif %}\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n</div>\r\n\r\n<!-- Status Badge -->\r\n{% if doc.status %}\r\n    {% set status_translation = {\r\n        \"Draft\": \"\u0645\u0633\u0648\u062f\u0629\",\r\n        \"Return\": \"\u0645\u0631\u062a\u062c\u0639\",\r\n        \"Credit Note Issued\": \"\u062a\u0645 \u0625\u0635\u062f\u0627\u0631 \u0625\u0634\u0639\u0627\u0631 \u062f\u0627\u0626\u0646\",\r\n        \"Submitted\": \"\u062a\u0645 \u0627\u0644\u0625\u0631\u0633\u0627\u0644\",\r\n        \"Paid\": \"\u0645\u062f\u0641\u0648\u0639\",\r\n        \"Partly Paid\": \"\u0645\u062f\u0641\u0648\u0639 \u062c\u0632\u0626\u064a\u0627\u064b\",\r\n        \"Unpaid\": \"\u063a\u064a\u0631 \u0645\u062f\u0641\u0648\u0639\",\r\n        \"Unpaid and Discounted\": \"\u063a\u064a\u0631 \u0645\u062f\u0641\u0648\u0639 \u0645\u0639 \u062e\u0635\u0645\",\r\n        \"Partly Paid and Discounted\": \"\u0645\u062f\u0641\u0648\u0639 \u062c\u0632\u0626\u064a\u0627\u064b \u0645\u0639 \u062e\u0635\u0645\",\r\n        \"Overdue and Discounted\": \"\u0645\u062a\u0623\u062e\u0631 \u0645\u0639 \u062e\u0635\u0645\",\r\n        \"Overdue\": \"\u0645\u062a\u0623\u062e\u0631\",\r\n        \"Cancelled\": \"\u0645\u0644\u063a\u064a\",\r\n        \"Internal Transfer\": \"\u062a\u062d\u0648\u064a\u0644 \u062f\u0627\u062e\u0644\u064a\"\r\n    } %}\r\n\r\n    {% set translated_status = status_translation.get(doc.status, doc.status) %}\r\n\r\n    <div style=\"width: 100%; text-align: center; margin: 10px 0 0 0;\">\r\n        {% if doc.status == \"Paid\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#e6f7ea; color:#0A9928; border:1.2px solid #0A9928;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Partly Paid\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fffbe6; color:#FFC107; border:1.2px solid #FFC107;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Unpaid\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fdeaea; color:#D23; border:1.2px solid #D23;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Overdue\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#fdeaea; color:#D23; border:1.2px solid #D23;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Cancelled\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#6C757D; border:1.2px solid #6C757D;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Submitted\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#eaf1fb; color:#007BFF; border:1.2px solid #007BFF;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% elif doc.status == \"Draft\" %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#C4C4C4; border:1.2px solid #C4C4C4;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% else %}\r\n        <span style=\"font-size: 15px; font-weight: bold; padding: 5px 22px; border-radius: 7px; font-family: Arial, sans-serif; display: inline-block; line-height: 1.2; text-align: center; background:#f5f5f5; color:#222; border:1.2px solid #bbb;\">\r\n            {{ translated_status }}\r\n        </span>\r\n        {% endif %}\r\n    </div>\r\n{% endif %}\r\n\r\n<!-- Signatures - Moved to bottom, PDF compatible -->\r\n<div style=\"width:100%; margin-top:30px; margin-bottom:10px; overflow:hidden; background:#fff; font-family:'Cairo', Tahoma, Arial, sans-serif; line-height:1; border:none; padding:10px 0; page-break-inside:avoid;\">\r\n  <table style=\"width:100%; border:none; background:none; border-spacing:0; direction:rtl; line-height:1; margin:0; padding:0;\">\r\n    <tbody>\r\n      <tr>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; padding:5px; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; width:50%;\">\u0627\u0644\u0628\u0627\u0626\u0639</td>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; padding:5px; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; width:50%;\">\u0627\u0644\u0645\u0633\u062a\u0644\u0645</td>\r\n      </tr>\r\n      <tr>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; height:30px; padding:5px 5px 0 5px;\"></td>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; height:30px; padding:5px 5px 0 5px;\"></td>\r\n      </tr>\r\n      <tr>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; padding:0 5px; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; height:1px;\">\r\n          <div style=\"width:150px; margin:0 auto; border-top:2px dotted #000;\"></div>\r\n        </td>\r\n        <td style=\"font-family:'Cairo', Arial, sans-serif; font-size:0.92em; padding:0 5px; vertical-align:top; color:#222; font-weight:700; letter-spacing:0.1px; text-align:center; border:none; height:1px;\">\r\n          <div style=\"width:150px; margin:0 auto; border-top:2px dotted #000;\"></div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n\r\n<!-- User Info -->\r\n{% if doc.owner %}\r\n    {% set created_by = frappe.db.get_value(\"User\", doc.owner, \"full_name\") or doc.owner %}\r\n    <div style=\"width: 100%; text-align: right; margin-top: 8px; padding-right: 32px;\">\r\n        <span style=\"font-size: 12px; font-weight: bold; border: 1.2px solid #1976d2; padding: 3px 10px; border-radius: 7px; font-family: 'Arial', sans-serif; background: #e3f0fb; color: #1976d2; display: inline-block; line-height: 1.3; text-align: center; letter-spacing: 0.5px;\">\r\n            \u062a\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621<br>{{ created_by }}\r\n        </span>\r\n    </div>\r\n{% endif %}\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-11-20 05:21:55.114848",
 "modified_by": "Administrator",
 "module": "Sahab Print Format",
 "name": "sales_invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}